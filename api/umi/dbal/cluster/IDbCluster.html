<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="robots" content="index, follow, all" />
        <title>umi\dbal\cluster\IDbCluster |     UMI.Framework | API
</title>
        	<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" />
	<link rel="stylesheet" type="text/css" href="../../../css/umi-content.css" />
                    </head>
        <body id="class">
            <div class="header">
        <ul>
            <li><a href="../../../classes.html">Classes</a></li>
                            <li><a href="../../../namespaces.html">Namespaces</a></li>
                        <li><a href="../../../interfaces.html">Interfaces</a></li>
            <li><a href="../../../traits.html">Traits</a></li>
            <li><a href="../../../doc-index.html">Index</a></li>
            
        </ul>

        <div id="title"></div>

            <div class="type">Interface</div>
    <h1><a href="../../../umi/dbal/cluster.html">umi\dbal\cluster</a>\IDbCluster</h1>
    </div>
        <div class="content">
                <p>    interface
    <strong>IDbCluster</strong>        implements
        <a href="../../../umi/dbal/cluster/IConnection.html"><abbr title="umi\dbal\cluster\IConnection">IConnection</abbr></a></p>

            <div class="description">
            <p>Компонент для работы с БД.</p>
            <p>Компонент для работы с БД, поддерживает репликацию и вертикальный шардинг данных
   <ul>
       <li>предоставляет всем компонентам единый интерфейс для выполнения запросов</li>
       <li>позволяет организовать master-slave's, master-master репликацию</li>
       <li>позволяет подключить свой класс-балансировщик нагрузки</li>
       <li>позволяет организовать вертикальный шардинг данных</li>
       <li>поддерживает "ленивый" коннект к серверу, "ленивое" выполнение запросов</li>
   </ul>
<h3>Терминология</h3>
<dl>
   <dt>Репликация</dt>
   <dd>копирование данных на разные сервера, поддержка копий в актуальном состоянии,
распределение нагрузки между БД-серверами</dd>
   <dt>MasterServer-сервер</dt>
   <dd>это сервер БД который может обрабатывать запросы как на выборку
данных, так и на модификацию данных. Мастер-серверов может быть несколько, это
называется master-master репликация.</dd>
   <dt>Slave-сервер</dt>
   <dd>это "подчиненный" сервер, может выполнять только запросы на выборку
данных. Периодически получает обновления данных с master-сервера через бинарные логи.</dd>
   <dt>Балансировщик</dt>
   <dd>это механизм распределения нагрузки между серверами. По-умолчанию
компонент использует балансировщик (DbBalancer), работающий по принципу
"Round Robin".
Приложение может установить компоненту свою реализацию балансировщика в момент инициализации.
   </dd>
   <dt>Вертикальный шардинг</dt>
   <dd>распределение данных по разным серверам. Например,
   все данные о пользователях и заказах могут быть размещены на отдельном сервере</dd>
   <dt>Горизонтальный шардинг (пока не поддерживается)</dt>
   <dd>распределение связанных бизнес-логикой данных по серверам. Например, конкретный пользователь и все
   связанные с ним данные (сообщения, заказы) могут храниться на отдельном сервере
   </dd>
</dl>
<h3>Логика и режимы работы</h3>
<ul>
   <li>Указан единственный master-сервер (нет репликации): <br />
Все запросы на выборку и модификацию данных отправляются на один сервер</li>
   <li>Указано два или более master-сервера (master-master репликация, нет slave)
       <ul>
           <li>при попытке выполнить первый запрос/коннект определяет какой из серверов использовать
для выполнения этого и всех остальных запросов к бд, используя балансировщик </li>
           <li>все запросы на выборку и модификацию данных происходят на указанный балансировщиком сервер</li>
       </ul>
   </li>
   <li>Указан master-сервер и несколько slave-серверов (master-slave репликация)
       <ul>
           <li>балансировщик определяет какой сервер использовать для выборки данных и какой для модификации</li>
           <li>запросы на выборку и модификацию отправляются на разные сервера</li>
       </ul>
   </li>
</ul>
<p>Необходимо учитывать тот момент, что при использовании репликации slave-сервера
могут "отставать" от master'a по актуальности данных на какое-то время (зависит от канала, нагрузки, настроек репликации).
Для некоторых данных (статистика, отправка формы обратной связи) это отставание не очень важно,
но для таких данных, как пост блога, заказ в магазине это отставание не допустимо.
Для решения проблемы используется следующее решение:</p>
<ul>
   <li>Действие на модификацию важных данных сообщает компоненту DbCluster, что необходимо использовать
   только мастер-сервер для текущей операции.</li>
   <li>Кластер (DbCluster) уведомляет балансировщик о том, что пользователь должен работать только
   с текущим мастер-сервером.</li>
   <li>Балансировщик своими средствами "привязывает" пользователя к master-серверу.
   Так же балансировщик сохраняет время привязки к мастеру. Таким образом, все пользователи, которые совершили действие
 с важными данными привязываются к мастер-серверу на текущий и все последующие запросы.</li>
   <li>Для того, чтобы разгрузить мастер-сервер от таких пользователей вводится параметр
"время рассинхронизации кластера".
   </li>
   <li>Как только время последнего действия у привязанного к мастеру пользователя преодолевает этот параметр,
балансировщик "отвязывает" пользователя от мастер-сервера, т.к. на репликах данные уже обновились, пользователь
видит актуальную информацию. Этот параметр может быть подобран статически, либо высчитываться балансировщиком
динамически, в зависимости от нагрузки на кластер.</li>
</ul>
<p>Кластер может настравится динамически, например когда elastic видит что нагрузка на машины высока,
и поднимает парочку дополнительных слейвов mysql (дополнительные виртуальные машины в облаке), он может изменить
конфигурацию компонента, добавив в нее новый сервер. Таким образом, все новые коннекты будут работать с
новыми настройками. Тот же механизм справедлив и при удалении слейвов.</p></p>
        </div>
    
    
    
            <h2>Methods</h2>

            <table>
                    <tr>
                <td class="type">
                    <a href="../../../umi/dbal/builder/ISelectBuilder.html"><abbr title="umi\dbal\builder\ISelectBuilder">ISelectBuilder</abbr></a>
                </td>
                <td class="last">
                    <a href="#method_select">select</a>()
                    <p>Подготавливает запрос на выборку данных, определяет список столбцов для выборки.</p>
                </td>
                <td><small>from&nbsp;<a href="../../../umi/dbal/cluster/IConnection.html#method_select"><abbr title="umi\dbal\cluster\IConnection">IConnection</abbr></a></small></td>
            </tr>
                    <tr>
                <td class="type">
                    <a href="../../../umi/dbal/builder/IInsertBuilder.html"><abbr title="umi\dbal\builder\IInsertBuilder">IInsertBuilder</abbr></a>
                </td>
                <td class="last">
                    <a href="#method_insert">insert</a>(string $tableName, bool $isIgnore = false)
                    <p>Подготавливает запрос на вставку данных</p>
                </td>
                <td><small>from&nbsp;<a href="../../../umi/dbal/cluster/IConnection.html#method_insert"><abbr title="umi\dbal\cluster\IConnection">IConnection</abbr></a></small></td>
            </tr>
                    <tr>
                <td class="type">
                    <a href="../../../umi/dbal/builder/IUpdateBuilder.html"><abbr title="umi\dbal\builder\IUpdateBuilder">IUpdateBuilder</abbr></a>
                </td>
                <td class="last">
                    <a href="#method_update">update</a>(string $tableName, bool $isIgnore = false)
                    <p>Подготавливает запрос на обновление данных</p>
                </td>
                <td><small>from&nbsp;<a href="../../../umi/dbal/cluster/IConnection.html#method_update"><abbr title="umi\dbal\cluster\IConnection">IConnection</abbr></a></small></td>
            </tr>
                    <tr>
                <td class="type">
                    <a href="../../../umi/dbal/builder/IDeleteBuilder.html"><abbr title="umi\dbal\builder\IDeleteBuilder">IDeleteBuilder</abbr></a>
                </td>
                <td class="last">
                    <a href="#method_delete">delete</a>(string $tableName)
                    <p>Подготавливает запрос на удаление данных</p>
                </td>
                <td><small>from&nbsp;<a href="../../../umi/dbal/cluster/IConnection.html#method_delete"><abbr title="umi\dbal\cluster\IConnection">IConnection</abbr></a></small></td>
            </tr>
                    <tr>
                <td class="type">
                    <a href="http://php.net/PDOStatement"><abbr title="PDOStatement">PDOStatement</abbr></a>
                </td>
                <td class="last">
                    <a href="#method_selectInternal">selectInternal</a>($sql, array $params = null)
                    <p>Выполняет прямой запрос на выборку данных.</p>
                </td>
                <td><small>from&nbsp;<a href="../../../umi/dbal/cluster/IConnection.html#method_selectInternal"><abbr title="umi\dbal\cluster\IConnection">IConnection</abbr></a></small></td>
            </tr>
                    <tr>
                <td class="type">
                    int
                </td>
                <td class="last">
                    <a href="#method_modifyInternal">modifyInternal</a>($sql, array $params = null)
                    <p>Выполняет прямой запрос на модификацию данных</p>
                </td>
                <td><small>from&nbsp;<a href="../../../umi/dbal/cluster/IConnection.html#method_modifyInternal"><abbr title="umi\dbal\cluster\IConnection">IConnection</abbr></a></small></td>
            </tr>
                    <tr>
                <td class="type">
                    <a href="../../../umi/dbal/driver/IDbDriver.html"><abbr title="umi\dbal\driver\IDbDriver">IDbDriver</abbr></a>
                </td>
                <td class="last">
                    <a href="#method_getDbDriver">getDbDriver</a>()
                    <p>Возвращает экземпляр используемого драйвера БД</p>
                </td>
                <td><small>from&nbsp;<a href="../../../umi/dbal/cluster/IConnection.html#method_getDbDriver"><abbr title="umi\dbal\cluster\IConnection">IConnection</abbr></a></small></td>
            </tr>
                    <tr>
                <td class="type">
                    <a href="../../../umi/dbal/cluster/IDbCluster.html"><abbr title="umi\dbal\cluster\IDbCluster">IDbCluster</abbr></a>
                </td>
                <td class="last">
                    <a href="#method_addServer">addServer</a>(<a href="../../../umi/dbal/cluster/server/IServer.html"><abbr title="umi\dbal\cluster\server\IServer">IServer</abbr></a> $server)
                    <p>Добавляет сервер в кластер</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    <a href="../../../umi/dbal/cluster/IDbCluster.html"><abbr title="umi\dbal\cluster\IDbCluster">IDbCluster</abbr></a>
                </td>
                <td class="last">
                    <a href="#method_setCurrentMaster">setCurrentMaster</a>(<a href="../../../umi/dbal/cluster/server/IMasterServer.html"><abbr title="umi\dbal\cluster\server\IMasterServer">IMasterServer</abbr></a> $server)
                    <p>Устанавливает сервер в качестве текущего мастера</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    <a href="../../../umi/dbal/cluster/IDbCluster.html"><abbr title="umi\dbal\cluster\IDbCluster">IDbCluster</abbr></a>
                </td>
                <td class="last">
                    <a href="#method_setCurrentSlave">setCurrentSlave</a>(<a href="../../../umi/dbal/cluster/server/ISlaveServer.html"><abbr title="umi\dbal\cluster\server\ISlaveServer">ISlaveServer</abbr></a> $server)
                    <p>Установливает сервер в качестве текущего слейва</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    <a href="../../../umi/dbal/cluster/server/IServer.html"><abbr title="umi\dbal\cluster\server\IServer">IServer</abbr></a>
                </td>
                <td class="last">
                    <a href="#method_getServer">getServer</a>(string $serverId)
                    <p>Возвращает сервер по его идентификатору</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    <a href="../../../umi/dbal/cluster/server/ISlaveServer.html"><abbr title="umi\dbal\cluster\server\ISlaveServer">ISlaveServer</abbr></a>
                </td>
                <td class="last">
                    <a href="#method_getSlave">getSlave</a>()
                    <p>Возвращает сервер для выборки данных</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    <a href="../../../umi/dbal/cluster/server/IMasterServer.html"><abbr title="umi\dbal\cluster\server\IMasterServer">IMasterServer</abbr></a>
                </td>
                <td class="last">
                    <a href="#method_getMaster">getMaster</a>()
                    <p>Возвращает сервер для модификации данных</p>
                </td>
                <td></td>
            </tr>
            </table>


        <h2>Details</h2>

                        <h3 id="method_select">
        <div class="location">in <a href="../../../umi/dbal/cluster/IConnection.html#method_select"><abbr title="umi\dbal\cluster\IConnection">IConnection</abbr></a> at line 49</div>
        <code>            public            <a href="../../../umi/dbal/builder/ISelectBuilder.html"><abbr title="umi\dbal\builder\ISelectBuilder">ISelectBuilder</abbr></a>
    <strong>select</strong>()</code>
    </h3>
    <div class="details">
        <p>Подготавливает запрос на выборку данных, определяет список столбцов для выборки.</p>
        <p><br />
Список столбцов передается в параметрах метода.<br />
Если столбцы не переданы, будет сформирован запрос, содержащий все столбцы (SELECT *)<br />
[@param string $columnName список имен столбцов]</p>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td><a href="../../../umi/dbal/builder/ISelectBuilder.html"><abbr title="umi\dbal\builder\ISelectBuilder">ISelectBuilder</abbr></a></td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_insert">
        <div class="location">in <a href="../../../umi/dbal/cluster/IConnection.html#method_insert"><abbr title="umi\dbal\cluster\IConnection">IConnection</abbr></a> at line 57</div>
        <code>            public            <a href="../../../umi/dbal/builder/IInsertBuilder.html"><abbr title="umi\dbal\builder\IInsertBuilder">IInsertBuilder</abbr></a>
    <strong>insert</strong>(string $tableName, bool $isIgnore = false)</code>
    </h3>
    <div class="details">
        <p>Подготавливает запрос на вставку данных</p>
        <p>
</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>string</td>
                <td>$tableName</td>
                <td>имя таблицы</td>
            </tr>
                    <tr>
                <td>bool</td>
                <td>$isIgnore</td>
                <td>игнорировать ошибки и duplicate-key конфликты</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td><a href="../../../umi/dbal/builder/IInsertBuilder.html"><abbr title="umi\dbal\builder\IInsertBuilder">IInsertBuilder</abbr></a></td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_update">
        <div class="location">in <a href="../../../umi/dbal/cluster/IConnection.html#method_update"><abbr title="umi\dbal\cluster\IConnection">IConnection</abbr></a> at line 65</div>
        <code>            public            <a href="../../../umi/dbal/builder/IUpdateBuilder.html"><abbr title="umi\dbal\builder\IUpdateBuilder">IUpdateBuilder</abbr></a>
    <strong>update</strong>(string $tableName, bool $isIgnore = false)</code>
    </h3>
    <div class="details">
        <p>Подготавливает запрос на обновление данных</p>
        <p>
</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>string</td>
                <td>$tableName</td>
                <td>имя таблицы для</td>
            </tr>
                    <tr>
                <td>bool</td>
                <td>$isIgnore</td>
                <td>игнорировать ошибки и duplicate-key конфликты</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td><a href="../../../umi/dbal/builder/IUpdateBuilder.html"><abbr title="umi\dbal\builder\IUpdateBuilder">IUpdateBuilder</abbr></a></td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_delete">
        <div class="location">in <a href="../../../umi/dbal/cluster/IConnection.html#method_delete"><abbr title="umi\dbal\cluster\IConnection">IConnection</abbr></a> at line 72</div>
        <code>            public            <a href="../../../umi/dbal/builder/IDeleteBuilder.html"><abbr title="umi\dbal\builder\IDeleteBuilder">IDeleteBuilder</abbr></a>
    <strong>delete</strong>(string $tableName)</code>
    </h3>
    <div class="details">
        <p>Подготавливает запрос на удаление данных</p>
        <p>
</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>string</td>
                <td>$tableName</td>
                <td>имя таблицы</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td><a href="../../../umi/dbal/builder/IDeleteBuilder.html"><abbr title="umi\dbal\builder\IDeleteBuilder">IDeleteBuilder</abbr></a></td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_selectInternal">
        <div class="location">in <a href="../../../umi/dbal/cluster/IConnection.html#method_selectInternal"><abbr title="umi\dbal\cluster\IConnection">IConnection</abbr></a> at line 84</div>
        <code>            public            <a href="http://php.net/PDOStatement"><abbr title="PDOStatement">PDOStatement</abbr></a>
    <strong>selectInternal</strong>($sql, array $params = null)</code>
    </h3>
    <div class="details">
        <p>Выполняет прямой запрос на выборку данных.</p>
        <p>Можно использовать только для тестов, для реализации драйверов БД,
для быстрых операций с БД не в "коробочных" целях</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td></td>
                <td>$sql</td>
                <td>
</td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$params</td>
                <td>
</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td><a href="http://php.net/PDOStatement"><abbr title="PDOStatement">PDOStatement</abbr></a></td>
            <td>
</td>
        </tr>
    </table>

            
                            <h4>Exceptions</h4>

                    <table>
                    <tr>
                <td><a href="http://php.net/RuntimeException"><abbr title="RuntimeException">RuntimeException</abbr></a></td>
                <td>если в процессе выполнения запроса произошли ошибки</td>
            </tr>
            </table>

            
                    </div>
    </div>

                <h3 id="method_modifyInternal">
        <div class="location">in <a href="../../../umi/dbal/cluster/IConnection.html#method_modifyInternal"><abbr title="umi\dbal\cluster\IConnection">IConnection</abbr></a> at line 94</div>
        <code>            public            int
    <strong>modifyInternal</strong>($sql, array $params = null)</code>
    </h3>
    <div class="details">
        <p>Выполняет прямой запрос на модификацию данных</p>
        <p>
</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td></td>
                <td>$sql</td>
                <td>
</td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$params</td>
                <td>
</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>int</td>
            <td>количество затронутых запросом строк</td>
        </tr>
    </table>

            
                            <h4>Exceptions</h4>

                    <table>
                    <tr>
                <td><a href="http://php.net/RuntimeException"><abbr title="RuntimeException">RuntimeException</abbr></a></td>
                <td>если в процессе выполнения запроса произошли ошибки</td>
            </tr>
            </table>

            
                    </div>
    </div>

                <h3 id="method_getDbDriver">
        <div class="location">in <a href="../../../umi/dbal/cluster/IConnection.html#method_getDbDriver"><abbr title="umi\dbal\cluster\IConnection">IConnection</abbr></a> at line 100</div>
        <code>            public            <a href="../../../umi/dbal/driver/IDbDriver.html"><abbr title="umi\dbal\driver\IDbDriver">IDbDriver</abbr></a>
    <strong>getDbDriver</strong>()</code>
    </h3>
    <div class="details">
        <p>Возвращает экземпляр используемого драйвера БД</p>
        <p>
</p>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td><a href="../../../umi/dbal/driver/IDbDriver.html"><abbr title="umi\dbal\driver\IDbDriver">IDbDriver</abbr></a></td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_addServer">
        <div class="location">at line 104</div>
        <code>            public            <a href="../../../umi/dbal/cluster/IDbCluster.html"><abbr title="umi\dbal\cluster\IDbCluster">IDbCluster</abbr></a>
    <strong>addServer</strong>(<a href="../../../umi/dbal/cluster/server/IServer.html"><abbr title="umi\dbal\cluster\server\IServer">IServer</abbr></a> $server)</code>
    </h3>
    <div class="details">
        <p>Добавляет сервер в кластер</p>
        <p>
</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td><a href="../../../umi/dbal/cluster/server/IServer.html"><abbr title="umi\dbal\cluster\server\IServer">IServer</abbr></a></td>
                <td>$server</td>
                <td>сервер</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td><a href="../../../umi/dbal/cluster/IDbCluster.html"><abbr title="umi\dbal\cluster\IDbCluster">IDbCluster</abbr></a></td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_setCurrentMaster">
        <div class="location">at line 111</div>
        <code>            public            <a href="../../../umi/dbal/cluster/IDbCluster.html"><abbr title="umi\dbal\cluster\IDbCluster">IDbCluster</abbr></a>
    <strong>setCurrentMaster</strong>(<a href="../../../umi/dbal/cluster/server/IMasterServer.html"><abbr title="umi\dbal\cluster\server\IMasterServer">IMasterServer</abbr></a> $server)</code>
    </h3>
    <div class="details">
        <p>Устанавливает сервер в качестве текущего мастера</p>
        <p>
</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td><a href="../../../umi/dbal/cluster/server/IMasterServer.html"><abbr title="umi\dbal\cluster\server\IMasterServer">IMasterServer</abbr></a></td>
                <td>$server</td>
                <td>
</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td><a href="../../../umi/dbal/cluster/IDbCluster.html"><abbr title="umi\dbal\cluster\IDbCluster">IDbCluster</abbr></a></td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_setCurrentSlave">
        <div class="location">at line 118</div>
        <code>            public            <a href="../../../umi/dbal/cluster/IDbCluster.html"><abbr title="umi\dbal\cluster\IDbCluster">IDbCluster</abbr></a>
    <strong>setCurrentSlave</strong>(<a href="../../../umi/dbal/cluster/server/ISlaveServer.html"><abbr title="umi\dbal\cluster\server\ISlaveServer">ISlaveServer</abbr></a> $server)</code>
    </h3>
    <div class="details">
        <p>Установливает сервер в качестве текущего слейва</p>
        <p>
</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td><a href="../../../umi/dbal/cluster/server/ISlaveServer.html"><abbr title="umi\dbal\cluster\server\ISlaveServer">ISlaveServer</abbr></a></td>
                <td>$server</td>
                <td>
</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td><a href="../../../umi/dbal/cluster/IDbCluster.html"><abbr title="umi\dbal\cluster\IDbCluster">IDbCluster</abbr></a></td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_getServer">
        <div class="location">at line 126</div>
        <code>            public            <a href="../../../umi/dbal/cluster/server/IServer.html"><abbr title="umi\dbal\cluster\server\IServer">IServer</abbr></a>
    <strong>getServer</strong>(string $serverId)</code>
    </h3>
    <div class="details">
        <p>Возвращает сервер по его идентификатору</p>
        <p>
</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>string</td>
                <td>$serverId</td>
                <td>идентификатор сервера</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td><a href="../../../umi/dbal/cluster/server/IServer.html"><abbr title="umi\dbal\cluster\server\IServer">IServer</abbr></a></td>
            <td>
</td>
        </tr>
    </table>

            
                            <h4>Exceptions</h4>

                    <table>
                    <tr>
                <td><abbr title="NonexistentEntityException">NonexistentEntityException</abbr></td>
                <td>если сервер не найден</td>
            </tr>
            </table>

            
                    </div>
    </div>

                <h3 id="method_getSlave">
        <div class="location">at line 132</div>
        <code>            public            <a href="../../../umi/dbal/cluster/server/ISlaveServer.html"><abbr title="umi\dbal\cluster\server\ISlaveServer">ISlaveServer</abbr></a>
    <strong>getSlave</strong>()</code>
    </h3>
    <div class="details">
        <p>Возвращает сервер для выборки данных</p>
        <p>
</p>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td><a href="../../../umi/dbal/cluster/server/ISlaveServer.html"><abbr title="umi\dbal\cluster\server\ISlaveServer">ISlaveServer</abbr></a></td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_getMaster">
        <div class="location">at line 138</div>
        <code>            public            <a href="../../../umi/dbal/cluster/server/IMasterServer.html"><abbr title="umi\dbal\cluster\server\IMasterServer">IMasterServer</abbr></a>
    <strong>getMaster</strong>()</code>
    </h3>
    <div class="details">
        <p>Возвращает сервер для модификации данных</p>
        <p>
</p>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td><a href="../../../umi/dbal/cluster/server/IMasterServer.html"><abbr title="umi\dbal\cluster\server\IMasterServer">IMasterServer</abbr></a></td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

    
            </div>
            <div id="footer">
        Generated by <a href="http://sami.sensiolabs.org/" target="_top">Sami, the API Documentation Generator</a>.
    </div>
    </body>
</html>
